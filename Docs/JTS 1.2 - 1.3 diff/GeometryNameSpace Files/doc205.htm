<body onunload=exit()><form method="POST">  <p align="center"><i><font size="3">Difference Analysis Generated by   <a href="http://www.ComponentSoftware.com/products/htmldiff" target="_blank">HtmlDiff</a> on  6/3/2003 11:47 AM</font></i>&nbsp;&nbsp;
  <input type="button" value="Navigate Changes" name="Navigate" onclick=pop_navigate()></p></form></body> <p align="left"><font size="4"><b>Base file: C:\Development\jts1.2\src\com\vividsolutions\jts\geom\Point.java</b></font></p> <p align="left"><font size="4"><b>Modified file: C:\Development\jts1.3\src\com\vividsolutions\jts\geom\Point.java</b></font></p><html>
<style type="text/css">
<!--
.HDNormal {  color: #000000;background:  #ffffff;text-decoration:none}
.HDDeleted {  color: #ff0000;background:  #ffffff;text-decoration:line-through}
.HDAdded {  color: #000000;background:  #ffff00;text-decoration:none}
-->
</style>
<body class="HDNormal">
<pre><a name="diff" id="c0"><span class="HDAdded">1:  
2:  
</span></a>1:  /*
2:   * <a name="diff" id="c1"><span class="HDDeleted"> </span></a>The <span class="HDDeleted">Java </span><span class="HDAdded">JTS </span>Topology Suite<span class="HDDeleted"> (JTS)</span> is a collection of Java classes that
3:   *  implement the fundamental operations required to validate a given
4:   *  geo-spatial data set to a known topological specification.
5:   *
6:   *  Copyright (C) 2001 Vivid Solutions
7:   *
8:   *  This library is free software; you can redistribute it and/or
9:   *  modify it under the terms of the GNU Lesser General Public
10:  *  License as published by the Free Software Foundation; either
11:  *  version 2.1 of the License, or (at your option) any later version.
12:  *
13:  *  This library is distributed in the hope that it will be useful,
14:  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
15:  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
16:  *  Lesser General Public License for more details.
17:  *
18:  *  You should have received a copy of the GNU Lesser General Public
19:  *  License along with this library; if not, write to the Free Software
20:  *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
21:  *
22:  *  For more information, contact:
23:  *
24:  *  Vivid Solutions
25:  *  Suite #1A
26:  *  2328 Government Street
27:  *  Victoria BC  V8T 5G5
28:  *  Canada
29:  *
30:  *  (250)385-6040
31:  *  www.vividsolutions.com
32:  */
33: package com.vividsolutions.jts.geom;
34: 
35: import com.vividsolutions.jts.geom.sfs.SFSPoint;
36: 
37: /**
38:  *  Basic implementation of &lt;code&gt;Point&lt;/code&gt;.
39:  *
40:  *@version 1.<a name="diff" id="c2"><span class="HDDeleted">2</span></a><span class="HDAdded">3</span>
41:  */
42: public class Point extends Geometry implements SFSPoint {
43: 
44:   /**
45:    *  The &lt;code&gt;Coordinate&lt;/code&gt; wrapped by this &lt;code&gt;Point&lt;/code&gt;.
46:    */
47:   protected Coordinate coordinate;
48: 
49:   /**
50:    *  Constructs a &lt;code&gt;Point&lt;/code&gt; with the given coordinate.
51:    *
52:    *@param  coordinate      the coordinate on which to base this &lt;code&gt;Point&lt;/code&gt;
53:    *      , or &lt;code&gt;null&lt;/code&gt; to create the empty geometry.
54:    *@param  precisionModel  the specification of the grid of allowable points
55:    *      for this &lt;code&gt;Point&lt;/code&gt;
56:    *@param  SRID            the ID of the Spatial Reference System used by this
57:    *      &lt;code&gt;Point&lt;/code&gt;
58:    */
59:   public Point(Coordinate coordinate, PrecisionModel precisionModel, int SRID) {
60:     super(precisionModel, SRID);
61:     this.coordinate = coordinate;
62:   }
63: 
64:   public Coordinate[] getCoordinates() {
65:     return isEmpty() ? new Coordinate[]{} : new Coordinate[]{
66:         coordinate
67:         };
68:   }
69: 
70:   public int getNumPoints() {
71:     return isEmpty() ? 0 : 1;
72:   }
73: 
74:   public boolean isEmpty() {
75:     return coordinate == null;
76:   }
77: 
78:   public boolean isSimple() {
79:     return true;
80:   }
81: 
82:   public boolean isValid() {
83:     return true;
84:   }
85: 
86:   public int getDimension() {
87:     return 0;
88:   }
89: 
90:   public int getBoundaryDimension() {
91:     return Dimension.FALSE;
92:   }
93: 
94:   public double getX() {
95:     if (coordinate == null) {
96:       throw new IllegalStateException("getX called on empty Point");
97:     }
98:     return coordinate.x;
99:   }
100:    
101:      public double getY() {
102:        if (coordinate == null) {
103:          throw new IllegalStateException("getY called on empty Point");
104:        }
105:        return coordinate.y;
106:      }
107:    
108:      public Coordinate getCoordinate() {
109:        return coordinate;
110:      }
111:    
112:      public String getGeometryType() {
113:        return "Point";
114:      }
115:    
116:      public Geometry getBoundary() {
117:        return new GeometryCollection(null, precisionModel, SRID);
118:      }
119:    
120:      protected Envelope computeEnvelopeInternal() {
121:        if (isEmpty()) {
122:          return new Envelope();
123:        }
124:        return new Envelope(coordinate.x, coordinate.x, coordinate.y, coordinate.y);
125:      }
126:    
127:      public boolean equalsExact(Geometry other<a name="diff" id="c3"><span class="HDAdded">, double tolerance</span></a>) {
128:        if (!isEquivalentClass(other)) {
129:          return false;
130:        }
131:        if (isEmpty() &amp;&amp; other.isEmpty()) {
132:          return true;
133:        }
<a name="diff" id="c4"><span class="HDDeleted">134:    </span></a><span class="HDDeleted">    return ((Point) other).coordinate.equals(this.coordinate);
</span><span class="HDAdded">135:    </span><span class="HDAdded">    return equal(((Point) other).coordinate, this.coordinate, tolerance);
</span>136:      }
137:    
138:      public void apply(CoordinateFilter filter) {
139:        if (isEmpty()) { return; }
140:        filter.filter(coordinate);
141:      }
142:    
143:      public void apply(GeometryFilter filter) {
144:        filter.filter(this);
145:      }
146:    
147:      public void apply(GeometryComponentFilter filter) {
148:        filter.filter(this);
149:      }
150:    
151:      public Object clone() {
152:        Point p = (Point) super.clone();
153:        p.coordinate = coordinate != null ? (Coordinate) coordinate.clone() : null;
154:        return p;// return the clone
155:      }
156:    
157:      public void normalize() { }
158:    
159:      protected int compareToSameClass(Object other) {
160:        Point point = (Point) other;
161:        return coordinate.compareTo(point.getCoordinate());
162:      }
163:    
164:    }
165:    
</pre>
</body>
<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript">
<!--
var newWind;
function putJumpCode(){
	var cnt = 5;
	newWind.document.write('<html>\n');
	newWind.document.write('<title>HtmlDiff Navigation</title>\n');
	newWind.document.write('<body>\n');
	newWind.document.write('<form name="jump">\n');
	newWind.document.write('<input type="button" value=" |&lt; " name="First" onclick=goto_first(this.form)>&nbsp;')
	newWind.document.write('<input type="button" value=" &lt; " name="Prev" onclick=goto_prev(this.form)>&nbsp;&nbsp;\n');
	newWind.document.write('<select name=url onchange=menu_goto(this.form)> \n');
	for (var i=0; i<cnt ;i++ ) {
		newWind.document.write('<option value="#C'+i+'">Change #'+(i+1)+ '</option> \n');
		}
	newWind.document.write('');
	newWind.document.write('</select>&nbsp;&nbsp;\n');
	newWind.document.write('<input type="button" value=" &gt; " name="Next"\n');
	newWind.document.write('onclick=goto_next(this.form)>\n');
	newWind.document.write('<input type="button" value=" &gt| " name="Last"\n');
	newWind.document.write('onclick=goto_last(this.form)>\n');
	newWind.document.write('</form>\n');
	newWind.document.write('');
	newWind.document.write('<form method="POST">\n');
	newWind.document.write('<p align="center"><i><font size="3">Generated\n');
	newWind.document.write('by <a href="http://www.ComponentSoftware.com/products/htmldiff" target="_blank">HtmlDiff</a> \n');
	newWind.document.write('</form>\n');
	newWind.document.write('</body>\n');
	newWind.document.write('</html>\n');
	newWind.document.write('<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript">\n');
	newWind.document.write('<!--\n');
	newWind.document.write('');
	newWind.document.write('var directCloseFlag=1;\n');
	newWind.document.write('');
	newWind.document.write('function menu_goto( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('  var baseurl = opener.location.href ;\n');
	newWind.document.write('  var idx = baseurl.indexOf("#");\n');
	newWind.document.write('  if (idx > -1) {\n');
	newWind.document.write('	baseurl = baseurl.slice(0, idx);\n');
	newWind.document.write('  }');
	newWind.document.write('  selecteditem = menuform.url.selectedIndex ;\n');
	newWind.document.write('  newurl = menuform.url.options[ selecteditem ].value ;\n');
	newWind.document.write('  if (newurl.length != 0) {\n');
	newWind.document.write('    	opener.top.location.href = baseurl + newurl ;\n');
	newWind.document.write('  }');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_prev( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	if(menuform.url.selectedIndex>0) menuform.url.selectedIndex--;\n');
	newWind.document.write('	menu_goto( menuform )\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_first( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	menuform.url.selectedIndex = 0;	\n');
	newWind.document.write('	menu_goto( menuform );\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_last( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	menuform.url.selectedIndex = menuform.url.options.length-1;	\n');
	newWind.document.write('	menu_goto( menuform );\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_next( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	if(menuform.url.options.length > (menuform.url.selectedIndex+1))\n');
	newWind.document.write('	menuform.url.selectedIndex++;\n');
	newWind.document.write('	menu_goto( menuform )\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function restore()\n');
	newWind.document.write('{\n');
	newWind.document.write('    	focus();\n');
	newWind.document.write('	menu_goto(jump);\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('goto_first(jump)\n');
	newWind.document.write('//-->\n');
	newWind.document.write('<');
	newWind.document.write('/SCRIPT>\n');
}
function pop_navigate(){
  if ((newWind==null)||(newWind.closed)) {
    newWind =  window.open("" ,"HtmlDiffJumpWindow","width=270,height=40")
    if (newWind.opener == null) { // for Nav 2.0x
      newWind.opener = self // this creates and sets a new prop
    }	putJumpCode();
  
} 
else 
{	newWind.execScript("restore()", "JavaScript");
  }
}
function exit(){
  if (newWind != null) {   
	newWind.close();
  }
}
//--></SCRIPT></html>
